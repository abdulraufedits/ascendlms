import{g as i,i as S,u as k,o as _,c as v,b as e,a as x,w as y,d,j as s,R as b,k as C,t as U,l as V,m,v as f,n as h,p as j,q as A}from"./index-ej2lLSjj.js";import{I as M,_ as N}from"./login-img-YAPEkNA1.js";import{s as R}from"./cookies-EJ_pqWQ6.js";const T={class:"font-small h-screen md:flex w-full justify-between items-center"},B={class:"w-full grid place-content-center h-screen"},D={class:"w-80 h-2xl flex flex-col gap-6"},L=e("img",{class:"w-auto h-8",src:j,alt:""},null,-1),O=e("h1",{class:"text-3xl bold text-grey font-big font-bold"},"Create a new account",-1),I={key:0,class:"text-red flex items-center gap-x-1 text-sm"},P=e("ion-icon",{name:"alert-circle-outline"},null,-1),$=e("input",{type:"submit",value:"Sign up",class:"cta font-big text-white font-medium cursor-pointer hover:bg-gray-900 transition-colors duration-300"},null,-1),z={class:"font-small text-center -mt-2"},E=e("h3",{class:"font-big text-center text-2xl"},"OR",-1),F=e("button",{type:"submit"},[e("img",{src:N,alt:"Contniue with google"})],-1),J={class:"bg-gray-100 h-screen w-full grid place-content-center max-sm:hidden"},G=["src"],X={__name:"Signup",setup(H){const o=i(""),u=i(""),l=i("");let a=i(!1);const p=i(""),w=S(),n=A(),g=k();function q(){var c={username:o.value,img:"https://api.dicebear.com/9.x/fun-emoji/svg?seed=Milo",email:u.value,password:l.value,designation:n.query.p,query:"",achievements:[]};if(n.query.p=="student"&&(g.query=""),o.value==""||u.value==""||l.value==""){a.value=!0,p.value="All fields are required";return}else if(l.length<8){a.value=!0,p.value="Password must be at least 8 characters long";return}else fetch(n.query.p=="student"?"https://ascendapi-b810cfaf8c4a.herokuapp.com/students":n.query.p=="instructor"?"https://ascendapi-b810cfaf8c4a.herokuapp.com/instructors":null,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(c)}).then(t=>t.json()).then(t=>{w.push(`/${n.query.p}/${o.value}/dashboard`),g.getUserData(c),R("id",c.id,4)}).catch(t=>alert("Select your profession first."))}return(c,t)=>(_(),v("div",T,[e("main",B,[e("div",D,[x(s(b),{to:"/",class:"flex items-center font-extrabold font-big rounded outline-none focus:ring-1 focus:ring-gray-900 focus:ring-offset-2"},{default:y(()=>[L,d("   Ascend LMS ")]),_:1}),O,e("form",{action:"",class:"flex flex-col gap-4",onSubmit:C(q,["prevent"])},[s(a)?(_(),v("div",I,[P,d(U(p.value),1)])):V("",!0),m(e("input",{autocomplete:"username",type:"fname",class:h(["input-field",s(a)?"err":""]),placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=r=>o.value=r)},null,2),[[f,o.value]]),m(e("input",{autocomplete:"email",type:"email",class:h(["input-field",s(a)?"err":""]),placeholder:"email address","onUpdate:modelValue":t[1]||(t[1]=r=>u.value=r)},null,2),[[f,u.value]]),m(e("input",{autocomplete:"password",type:"password",class:h(["input-field",s(a)?"err":""]),placeholder:"password","onUpdate:modelValue":t[2]||(t[2]=r=>l.value=r)},null,2),[[f,l.value]]),$,e("p",z,[d("Already have an account? "),x(s(b),{to:"/login",class:"text-primary"},{default:y(()=>[d("Login")]),_:1})])],32),E,F])]),e("aside",J,[e("img",{src:s(M),alt:"login image",class:"h-96"},null,8,G)])]))}};export{X as default};
